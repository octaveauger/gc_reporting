<h1><%= @client.display_name %></h1>
<h2><%= t('.title_customer') %></h2>

<dl class="dl-horizontal">
	<dt><%= t('.item_description_customer_name') %></dt>
	<dd><%= @client.full_name %></dd>
	<dt><%= t('.item_description_company_name') %></dt>
	<dd><span><%= @client.company_name %></span></dd>
	<% if !@client.email.blank? %>
		<dt><%= t('.item_description_customer_email') %></dt>
		<dd><%= @client.email %></dd>
	<% end %>
	<% if @client.customers.any? %>
		<%= render partial: 'clients/customer', locals: { customer: @client.customers.last } %>
	<% end %>
</dl>

<h2><%= t('.title_mandates') %></h2>

<% if @client.mandates.any? %>
	<table class="table">
		<th><%= t('mandates.index.table_title_mandate_id') %></th>
		<th><%= t('mandates.index.table_title_creation_date') %></th>
		<th><%= t('mandates.index.table_title_mandate_reference') %></th>
		<th><%= t('mandates.index.table_title_mandate_scheme') %></th>
		<th><%= t('mandates.index.table_title_mandate_status') %></th>
		<th></th>
		<%= render partial: 'clients/mandate', collection: @client.mandates.order('gc_created_at desc') %>
	</table>
<% else %>
	<p><%= t('mandates.index.no_mandates') %></p>
<% end %>

<h2><%= t('.title_payments') %></h2>

<% if @payments.any? %>
	<table class="table">
		<th><%= t('payments.index.table_title_payment_date') %></th>
		<th><%= t('payments.index.table_title_description') %></th>
		<th><%= t('payments.index.table_title_reference') %></th>
		<th><%= t('payments.index.table_title_charge_date') %></th>
		<th><%= t('payments.index.table_title_gross_amount') %></th>
		<th><%= t('payments.index.table_title_status') %></th>
		<th><%= t('payments.index.table_title_error_cause') %></th>
		<%= render partial: 'clients/payment', collection: @payments %>
	</table>
	<%= will_paginate @payments %>
<% else %>
	<p><%= t('payments.index.no_payments') %></p>
<% end %>